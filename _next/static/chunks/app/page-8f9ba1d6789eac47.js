(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4779:(e,a,t)=>{Promise.resolve().then(t.bind(t,3884))},3884:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>B});var l=t(7437),r=t(2265),o=t(7818),n=t(1444),c=t(8851),s=t(3288),i=t(1501),d=t(8250),u=t(9252);let m=e=>{let{onAddNewLot:a}=e,t=(0,n.I0)(),r=(0,n.v9)(e=>e.lot.lots),o=[{title:"Название",dataIndex:"name",key:"name"},{title:"Категория",dataIndex:"category",key:"category",sorter:(e,a)=>e.category.localeCompare(a.category)},{title:"Производитель",dataIndex:"manufacturer",key:"manufacturer"},{title:"Тип",dataIndex:"type",key:"type",filters:[{text:"Аукцион",value:"auction"},{text:"Объявление",value:"announcement"}],onFilter:(e,a)=>a.type===e,sorter:(e,a)=>e.type.localeCompare(a.type),render:e=>"auction"===e?"Аукцион":"Объявление"},{title:"Дата создания",dataIndex:"createdAt",key:"createdAt",sorter:(e,a)=>new Date(a.createdAt).getTime()-new Date(e.createdAt).getTime(),render:e=>new Date(e).toLocaleDateString()},{title:"Действия",key:"actions",render:(e,a)=>(0,l.jsx)(s.Z,{size:"middle",children:(0,l.jsx)(i.Z,{title:"Вы уверены, что хотите удалить этот лот?",onConfirm:()=>t((0,c.St)(a.id)),okText:"Да",cancelText:"Нет",children:(0,l.jsx)(d.ZP,{type:"link",children:"Удалить"})})})}];return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"16px",padding:"16px"},children:(0,l.jsx)(d.ZP,{type:"primary",onClick:a,children:"Добавить новый лот"})}),(0,l.jsx)(u.Z,{columns:o,dataSource:r,rowKey:"id",pagination:{pageSize:5}})]})};var p=t(3862),_=t(6286),h=t(4052),x=t(9520),v=t(4853),b=t.n(v),j=t(9643),y=t.n(j);let g=e=>{let{publicationType:a,onChange:t}=e;return(0,l.jsxs)(h.ZP.Group,{value:a,onChange:e=>t(e.target.value),className:y().radioButtons,children:[(0,l.jsx)(h.ZP.Button,{value:"auction",className:"".concat(y().radioButton," ").concat(y().sizeAuction," ").concat("auction"===a?y().active:""),children:"Аукцион"}),(0,l.jsx)(h.ZP.Button,{value:"announcement",className:"".concat(y().radioButton," ").concat(y().sizeAnnouncement," ").concat("announcement"===a?y().active:""),children:"Объявление"})]})},f=[{label:"Масштабные модели",value:"scale-models",children:[{label:"Автомобили",value:"cars"},{label:"Корабли",value:"ships"}]},{label:"Отечественные автомобили",value:"domestic-cars",children:null},{label:"Тракторы, строительная техника",value:"tractors-construction",children:[{label:"Экскаваторы",value:"excavators"},{label:"Погрузчики",value:"loaders"}]}];var N=t(4187),S=t.n(N);let{Option:C,OptGroup:F}=x.default,I=()=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(p.Z.Item,{name:"category",label:(0,l.jsxs)("span",{children:["Категория",(0,l.jsx)("span",{style:{color:"red"},children:"*"})]}),rules:[{message:"Пожалуйста, выберите категорию",required:!0}],children:(0,l.jsx)(x.default,{placeholder:"Выберите категорию",className:S().categorySelect,dropdownClassName:S().categoryDropdown,children:f.map(e=>e.children?(0,l.jsx)(F,{label:e.label,className:S().categoryOption,children:e.children.map(e=>(0,l.jsx)(C,{value:e.value,className:S().categoryOption,children:e.label},e.value))},e.value):(0,l.jsx)(C,{value:e.value,className:S().categoryOption,children:e.label},e.value))})}),(0,l.jsx)(p.Z.Item,{name:"additionalCategory",label:"Дополнительная категория",children:(0,l.jsx)(x.default,{placeholder:"Выберите дополнительную категорию",className:S().additionalCategorySelect,dropdownClassName:S().categoryDropdown,children:f.map(e=>e.children?(0,l.jsx)(F,{label:e.label,className:S().categoryOption,children:e.children.map(e=>(0,l.jsx)(C,{value:e.value,className:S().categoryOption,children:e.label},e.value))},e.value):(0,l.jsx)(C,{value:e.value,className:S().categoryOption,children:e.label},e.value))})})]}),Z=[{label:"Bosch",value:"Bosch"},{label:"LG",value:"LG"},{label:"AEG",value:"AEG"}],L=[{label:"1:18",value:"1:18"},{label:"1:24",value:"1:24"},{label:"1:32",value:"1:32"},{label:"1:64",value:"1:64"}],k=[{label:"Пластик",value:"plastic"},{label:"Металл",value:"metal"},{label:"Дерево",value:"wood"},{label:"Композит",value:"composite"}],T=e=>{let{onCreateLot:a}=e,t=(0,n.I0)(),[o]=p.Z.useForm(),[s,i]=(0,r.useState)("new"),[u,m]=(0,r.useState)("announcement"),v=r.useRef(null),j=r.useRef(null);return r.useEffect(()=>{v.current&&v.current.parentElement&&(v.current.parentElement.style.display="flex")},[]),(0,l.jsx)("div",{style:{padding:"16px"},children:(0,l.jsxs)("section",{children:[(0,l.jsx)("h2",{className:b().headerTitle,children:"Создание лота"}),(0,l.jsxs)(p.Z,{form:o,layout:"vertical",onFinish:e=>{t((0,c.Ic)({...e,type:u})),o.resetFields(),a()},requiredMark:!1,children:[(0,l.jsxs)("div",{className:b().formElement,children:[(0,l.jsx)("h3",{className:b().headerSubtitle,children:"Тип публикации"}),(0,l.jsx)(g,{publicationType:u,onChange:m})]}),(0,l.jsxs)("div",{className:b().formElement,children:[(0,l.jsx)("h3",{className:b().headerSubtitle,children:"Категория"}),(0,l.jsx)(I,{})]}),(0,l.jsxs)("div",{className:b().formElement,children:[(0,l.jsx)("h3",{className:b().headerSubtitle,children:"Описание публикации"}),(0,l.jsxs)("div",{className:b().formGroupColumn,children:[(0,l.jsx)(p.Z.Item,{name:"name",label:(0,l.jsxs)("div",{className:b().customLabel,ref:v,children:[(0,l.jsxs)("span",{children:["Название лота",(0,l.jsx)("span",{className:b().requiredMark,children:"*"})]}),(0,l.jsx)("span",{className:b().charCounter,ref:j,children:"0/100"})]}),rules:[{required:!0,message:"Пожалуйста, введите название лота"}],className:b().nameField,children:(0,l.jsx)(_.Z,{className:b().inputLarge,maxLength:100,placeholder:"Введите название",onChange:e=>{if(j.current){let a=e.target.value.length;j.current.innerText="".concat(a,"/100")}}})}),(0,l.jsxs)("div",{className:b().formRow,children:[(0,l.jsx)(p.Z.Item,{name:"article",label:"Артикул",children:(0,l.jsx)(_.Z,{className:b().inputArticle,placeholder:"Введите доп. информацию"})}),(0,l.jsx)(p.Z.Item,{label:(0,l.jsxs)("span",{children:["Состояние",(0,l.jsx)("span",{style:{color:"red"},children:"*"})]}),className:b().formItemCondition,children:(0,l.jsxs)(h.ZP.Group,{value:s,onChange:e=>i(e.target.value),className:b().radioButtons,children:[(0,l.jsx)(h.ZP.Button,{value:"new",className:"".concat(b().radioButtonCondition," ").concat("new"===s?b().active:b().inactive),children:"Новый"}),(0,l.jsx)(h.ZP.Button,{value:"used",className:"".concat(b().radioButtonCondition," ").concat("used"===s?b().active:b().inactive),children:"Б/у"})]})}),(0,l.jsx)(p.Z.Item,{name:"manufacturer",label:"Производитель",rules:[{message:"Выберите производителя",required:!0}],children:(0,l.jsx)(x.default,{placeholder:"Выберите производителя",className:b().manufacturer,children:Z.map(e=>(0,l.jsx)(x.default.Option,{value:e.value,className:b().categoryOption,children:e.label},e.value))})})]}),(0,l.jsxs)("div",{className:b().formRow,children:[(0,l.jsx)(p.Z.Item,{name:"scale",label:"Масштаб",rules:[{message:"Нужен масштаб",required:!0}],children:(0,l.jsx)(x.default,{placeholder:"Выберите масштаб",className:b().selectScale,children:L.map(e=>(0,l.jsx)(x.default.Option,{value:e.value,className:b().categoryOption,children:e.label},e.value))})}),(0,l.jsx)(p.Z.Item,{name:"material",label:"Материал",children:(0,l.jsx)(x.default,{placeholder:"Выберите материал",className:b().selectMaterial,children:k.map(e=>(0,l.jsx)(x.default.Option,{value:e.value,className:b().categoryOption,children:e.label},e.value))})})]}),(0,l.jsx)(p.Z.Item,{label:(0,l.jsxs)("span",{children:["Описание",(0,l.jsx)("span",{style:{color:"red"},children:"*"})]}),name:"description",children:(0,l.jsx)(_.Z.TextArea,{className:b().descriptionInput,style:{minHeight:"64px"},placeholder:"Введите описание",autoSize:!0})})]})]}),(0,l.jsx)(p.Z.Item,{children:(0,l.jsx)(d.ZP,{type:"primary",htmlType:"submit",className:b().buttonSubmit,children:"Создать лот"})})]})]})})},w=(0,o.default)(()=>Promise.all([t.e(607),t.e(641),t.e(381)]).then(t.bind(t,4245)),{loadableGenerated:{webpack:()=>[4245]},ssr:!1});function B(){let[e,a]=(0,r.useState)("LotForm");return(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:["LotForm"===e?(0,l.jsx)(T,{onCreateLot:()=>a("LotList")}):(0,l.jsx)(m,{onAddNewLot:()=>a("LotForm")}),(0,l.jsx)(w,{})]})}},8851:(e,a,t)=>{"use strict";t.d(a,{Ic:()=>r,St:()=>o,ZP:()=>n});let l=(0,t(6862).oM)({name:"lot",initialState:{lots:[]},reducers:{addLot:(e,a)=>{e.lots.push({...a.payload,id:new Date().toISOString(),createdAt:new Date().toISOString()})},removeLot:(e,a)=>{e.lots=e.lots.filter(e=>e.id!==a.payload)}}}),{addLot:r,removeLot:o}=l.actions,n=l.reducer},4187:e=>{e.exports={categorySelect:"categorySelect_categorySelect__Q96Ca","ant-select-selection-placeholder":"categorySelect_ant-select-selection-placeholder__W_1rp",additionalCategorySelect:"categorySelect_additionalCategorySelect__TxQHT",categoryOption:"categorySelect_categoryOption__nuqLE"}},4853:e=>{e.exports={headerTitle:"lotForm_headerTitle__kHB_e",headerSubtitle:"lotForm_headerSubtitle__k84yS",formElement:"lotForm_formElement__CcXdO",radioButton:"lotForm_radioButton__JWNcr",active:"lotForm_active__1a_g4",radioButtons:"lotForm_radioButtons__8gbOv","ant-form-item-label":"lotForm_ant-form-item-label___tL_v",formGroupColumn:"lotForm_formGroupColumn__0AnXz",formItemLabelWrapper:"lotForm_formItemLabelWrapper__Mqaxk",formItemLabelTitle:"lotForm_formItemLabelTitle__LTc5b",requiredMark:"lotForm_requiredMark__0g7ID",inputLarge:"lotForm_inputLarge__gvTIx",formRow:"lotForm_formRow__PIUfl","ant-form-item":"lotForm_ant-form-item__U2PVS",formItemCondition:"lotForm_formItemCondition__bSRcO",radioButtonCondition:"lotForm_radioButtonCondition__4H4kT",inactive:"lotForm_inactive__hqeJm",manufacturer:"lotForm_manufacturer__GSxgo",selectScale:"lotForm_selectScale__k6TNS",selectMaterial:"lotForm_selectMaterial__VANJO",descriptionInput:"lotForm_descriptionInput___WlPj",buttonSubmit:"lotForm_buttonSubmit__84gJZ",inputArticle:"lotForm_inputArticle__TPzq7",customLabel:"lotForm_customLabel__AzOtf",charCounter:"lotForm_charCounter__rk_80"}},9643:e=>{e.exports={radioButton:"publicationTypeSelect_radioButton__NEDCw",active:"publicationTypeSelect_active__4RvcS",sizeAuction:"publicationTypeSelect_sizeAuction__rSV7h",sizeAnnouncement:"publicationTypeSelect_sizeAnnouncement__rveWk",radioButtons:"publicationTypeSelect_radioButtons__tEMrC"}}},e=>{var a=a=>e(e.s=a);e.O(0,[919,562,315,130,215,744],()=>a(4779)),_N_E=e.O()}]);